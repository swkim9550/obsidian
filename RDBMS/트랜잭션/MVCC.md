  
MVCC (Multi-Version Concurrency Control)는 데이터베이스 관리 시스템(DBMS)에서 병렬 처리와 동시성을 지원하기 위한 트랜잭션 격리 기술 중 하나입니다. MVCC는 트랜잭션 격리를 유지하면서 여러 트랜잭션 간에 데이터 일관성을 보장하는 방법을 제공합니다.

MVCC는 다음과 같은 주요 개념으로 구성됩니다:

1. **버전 관리:** MVCC는 데이터베이스에서 각 트랜잭션별로 데이터의 버전을 관리합니다. 각 트랜잭션이 데이터를 읽을 때 해당 시점의 데이터 버전을 사용합니다. 이를 통해 동시성을 제공하면서 데이터 무결성을 유지할 수 있습니다.
    
2. **스냅샷 격리수준:** MVCC에서는 스냅샷 격리수준(Snapshot Isolation)이라고도 불리는 특별한 격리수준을 사용합니다. 이 격리수준에서는 각 트랜잭션은 자신만의 데이터 스냅샷(시간대별 데이터 버전)을 가지고 작업하며, 다른 트랜잭션의 작업에 영향을 받지 않습니다.
    
3. **버전 스탬프:** MVCC는 각 데이터 레코드에 대한 버전 스탬프를 유지합니다. 이 스탬프를 사용하여 각 트랜잭션의 시간대와 관련된 데이터 버전을 확인하고 해당 시간대의 데이터를 읽거나 쓸 수 있습니다.
    
4. **읽기 일관성:** MVCC는 읽기 연산에 대한 일관성을 제공합니다. 특정 트랜잭션이 데이터를 읽을 때, 다른 트랜잭션에서 해당 데이터를 변경하더라도 해당 트랜잭션의 스냅샷에 따라 일관성 있는 데이터를 제공합니다.
    

MVCC의 주요 이점은 다음과 같습니다:

- 데이터베이스에서 동시성을 향상시킵니다.
- 트랜잭션 간 충돌과 데드락을 줄입니다.
- 읽기 연산과 쓰기 연산 간의 충돌을 방지하면서 효율적인 병렬 처리를 가능하게 합니다.
- 데이터베이스의 데이터 무결성과 일관성을 유지합니다.

MVCC는 대표적으로 PostgreSQL, Oracle, MySQL(InnoDB 스토리지 엔진), SQLite 등 다양한 데이터베이스 시스템에서 사용되는 중요한 기술 중 하나입니다.


### 추가 설명
- 격리 수준에 따라서 다른값을 보일 수 있는 것이 바로 MVCC 덕분이다.
- 커밋이 되지 않은 상황에서 격리수준이 READ_UNCOMMITTED라면 버퍼 풀의 데이터를 읽어서 반환
- 격리 수준이 READ_COMMITED 거나 그 이상인 경우 변경되기 이전의 Undo 로그 영역의 데이터를 반환

-> 하나의 데이터에 대해 여러 버전을 관리하는 MVCC 


https://mangkyu.tistory.com/53