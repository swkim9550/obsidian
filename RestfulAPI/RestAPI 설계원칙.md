  
RESTful API 설계 원칙은 웹 서비스를 구축할 때 따라야 할 중요한 지침들을 제공합니다. REST(Representational State Transfer)는 로이 필딩(Roy Fielding)이 그의 박사 논문에서 제안한 아키텍처 스타일로, 웹 서비스를 설계하는 데 널리 사용되고 있습니다. RESTful API를 설계할 때 고려해야 할 주요 원칙들은 다음과 같습니다:

1. **클라이언트-서버 구조(Client-Server Architecture)**:
    
    - 클라이언트와 서버는 서로 독립적으로 작동해야 합니다.
    - 클라이언트는 사용자 인터페이스와 관련된 책임을, 서버는 데이터 저장과 비즈니스 로직을 처리하는 책임을 갖습니다.
    - 이 분리는 각 부분의 독립적인 진화를 가능하게 하여 확장성과 유지보수를 용이하게 합니다.
2. **무상태성(Statelessness)**:
    
    - 각 요청은 독립적이어야 하며, 모든 필요한 정보는 그 자체로 완전해야 합니다.
    - 서버는 클라이언트의 상태 정보를 저장하지 않아야 합니다. 이는 서버의 단순화와 확장성을 증가시킵니다.
3. **캐시 가능성(Cacheability)**:
    
    - 응답은 명시적으로, 또는 암묵적으로 캐싱 가능해야 합니다.
    - 적절한 캐싱은 네트워크 효율성을 높이고 클라이언트의 성능을 향상시킵니다.
4. **계층화된 시스템(Layered System)**:
    
    - 클라이언트는 서버가 단일 서버인지, 뒤에 여러 계층이 있는지 알 필요가 없습니다.
    - 중간 계층은 보안, 로드 밸런싱, 캐싱 등의 기능을 제공하여 시스템을 확장 가능하게 합니다.
5. **유니폼 인터페이스(Uniform Interface)**:
    
    - 인터페이스의 일관성을 통해 다른 시스템과의 상호 운용성을 보장합니다.
    - 주요 원칙은 자원의 식별(URI), 자원에 대한 표현(통신을 위한 데이터 형식), 자기 서술적 메시지(Self-descriptive messages), 애플리케이션 상태에 대한 하이퍼미디어 컨트롤(HATEOAS)입니다.
6. **코드-온-디맨드(Code-on-Demand) (선택적)**:
    
    - 서버는 클라이언트의 기능을 확장하기 위해 실행 가능한 코드를 전송할 수 있습니다(예: 자바스크립트).
    - 이 원칙은 선택적이며, 항상 사용되지는 않습니다.




## Uniform interface 4가지 원칙


Uniform Interface는 REST 아키텍처의 핵심 원칙 중 하나로, 일관된 인터페이스를 통해 시스템 아키텍처의 단순성을 향상시키고, 상호작용을 일반화함으로써 각 부분을 독립적으로 진화시킬 수 있게 합니다. 이 원칙은 네 가지 제약 조건으로 구성됩니다.

### 1. Identification of Resources (리소스의 식별)

- **의미:** 모든 리소스는 고유한 식별자(주로 URI)를 통해 식별되어야 합니다.
- **예시:** 사용자의 정보를 가져오는 API
    - `GET /users/123` : 사용자 123에 대한 정보를 식별하고 요청합니다.

### 2. Manipulation of Resources Through Representations (표현을 통한 리소스 조작)

- **의미:** 클라이언트는 리소스의 표현(예: JSON, XML)을 통해 리소스와 상호작용하며, 리소스의 상태는 이 표현을 통해 전달되고 수정될 수 있어야 합니다.
- **예시:** 사용자 정보를 업데이트하는 API
    - `PUT /users/123`
    - 본문: `{ "name": "John Doe", "email": "john.doe@example.com" }`
    - 이 요청은 사용자 123의 이름과 이메일을 새로운 값으로 업데이트합니다.

### 3. Self-descriptive Messages (자기 서술적 메시지)

- **의미:** 각 메시지는 충분한 정보를 포함하여 메시지를 이해할 수 있어야 합니다. 이는 메시지의 메타 데이터(헤더, 상태 코드)를 통해 달성됩니다.
- **예시:**
    - 요청: `GET /users/123` 헤더에 `Accept: application/json`을 포함하여 JSON 형식을 요청합니다.
    - 응답: `200 OK`와 함께 헤더에 `Content-Type: application/json`을 포함하여 응답 형식이 JSON임을 명시합니다.

### 4. Hypermedia as the Engine of Application State (HATEOAS)

- **의미:** 애플리케이션의 상태는 하이퍼링크를 통해 전이되어야 합니다. 즉, 클라이언트는 서버로부터 동적으로 하이퍼링크를 받고, 그 링크를 통해 다음 가능한 모든 액션을 알 수 있어야 합니다.
```json
{
    "userId": 123,
    "name": "John Doe",
    "links": [
        {
            "rel": "self",
            "href": "/users/123"
        },
        {
            "rel": "all-users",
            "href": "/users"
        }
    ]
}

```
이 응답은 사용자 정보뿐만 아니라, 해당 사용자(`self`)와 모든 사용자 목록(`all-users`)에 대한 링크를 포함하여, 클라이언트가 다음에 어떤 액션을 취할 수 있는지를 나타냅니다.

Uniform Interface의 이러한 네 가지 제약은 RESTful 서비스가 일관되고, 직관적이며, 탐색하기 쉬운 API를 제공하는 데 중요한 역할을 합니다. 이 원칙들을 통해 클라이언트와 서버는 독립적으로 진화할 수 있으며, 애플리케이션의 확장성과 유지 보수성이 향상됩니다.




# 실무적 관점에서 API사용
  
실무에서 REST API를 개발하면서 신경 써야 할 부분은 다음과 같습니다:

1. **명확하고 일관된 라우팅**:
    
    - API 엔드포인트는 직관적이고 일관된 명명 규칙을 따라야 합니다.
    - 리소스는 명사로 표현하고, 행동은 HTTP 메서드(GET, POST, PUT, DELETE 등)로 표현합니다.
2. **오류 처리 및 응답 메시지**:
    
    - 오류 발생 시 명확하고 일관된 오류 메시지와 함께 적절한 HTTP 상태 코드를 반환해야 합니다.
    - 사용자에게 유용한 정보를 제공하는 동시에, 보안을 위해 민감한 정보는 숨겨야 합니다.
3. **보안 고려**:
    
    - 인증과 권한 부여를 위해 OAuth, JWT 등의 보안 메커니즘을 적절히 사용해야 합니다.
    - SQL 인젝션, XSS, CSRF 등의 공격으로부터 API를 보호해야 합니다.
4. **효율적인 데이터 처리**:
    
    - 대량의 데이터 처리 시 페이징, 필터링, 정렬 등을 지원해야 합니다.
    - 클라이언트의 요구에 따라 필요한 데이터만을 선택적으로 제공할 수 있도록 구현합니다.
5. **문서화 및 버전 관리**:
    
    - API 문서는 명확하고 최신 상태로 유지해야 합니다. Swagger 같은 도구를 사용할 수 있습니다.
    - API의 변경 사항이 클라이언트에 영향을 주지 않도록 버전 관리가 필요합니다.
6. **성능 최적화**:
    
    - 캐싱, 압축, 연결 풀링 등을 사용하여 API 응답 시간을 단축합니다.
    - 서버 부하 분산을 위해 로드 밸런싱과 같은 기술을 고려합니다.
7. **유연성 및 확장성 고려**:
    
    - REST API는 확장성을 고려하여 설계해야 합니다.
    - 시스템의 성장과 변화에 적응할 수 있도록 모듈식 설계가 중요합니다.
8. **클라이언트의 다양성 고려**:
    
    - 다양한 클라이언트(웹, 모바일, 타 서버 등)의 요구 사항을 충족시키기 위해 유연성 있는 API 설계가 필요합니다.