

### HTTP PUT

1. **정의 및 사용**:
    
    - `PUT` 메서드는 지정된 URI에 리소스를 생성하거나, 이미 존재하는 경우 전체 리소스를 대체합니다.
    - `PUT` 요청은 대상 리소스의 완전한 표현을 포함해야 합니다. 즉, 요청 본문에는 대체될 리소스의 전체 데이터가 포함되어야 합니다.
2. **특징**:
    
    - **멱등성(Idempotent)**: 같은 `PUT` 요청을 여러 번 수행해도 결과는 동일합니다. 리소스의 전체 상태를 대체하기 때문에, 요청이 중복되어도 최종 상태에 영향을 주지 않습니다.
    - **전체 업데이트**: 리소스의 일부만을 변경하는 것이 아니라 전체를 교체합니다. 제공되지 않은 필드는 기본값으로 초기화되거나 삭제될 수 있습니다.
3. **적용 상황**:
    
    - 전체 리소스의 상태를 갱신하거나 새로운 리소스를 생성할 때 사용됩니다.
    - 리소스의 모든 부분을 클라이언트가 관리할 수 있고, 전체를 교체하는 것이 의도된 경우에 적합합니다.

### HTTP PATCH

1. **정의 및 사용**:
    
    - `PATCH` 메서드는 리소스의 일부분을 수정하기 위해 사용됩니다.
    - `PATCH` 요청은 리소스의 일부분만을 포함하며, 이를 통해 리소스의 특정 부분을 변경합니다.
2. **특징**:
    
    - **비멱등성(Non-Idempotent)**: 이론적으로 `PATCH`는 비멱등일 수 있습니다. 동일한 `PATCH` 요청이 여러 번 적용될 경우 결과가 달라질 수 있습니다(실제로는 대부분의 구현에서 멱등하게 작동합니다).
    - **부분 업데이트**: 전체 리소스가 아닌 일부분만 수정합니다. 이를 통해 네트워크 사용량을 줄이고, 필요한 부분만 갱신할 수 있습니다.
3. **적용 상황**:
    
    - 리소스의 일부분만 변경하고자 할 때 사용됩니다.
    - 전체 리소스 데이터를 전송하지 않고, 변경할 부분만을 명시적으로 지정할 수 있습니다.

### 결론

- `PUT`은 리소스의 전체 교체에 사용되며 멱등성을 갖습니다. 이는 리소스의 완전한 상태를 정의할 때 적합합니다.
- `PATCH`는 리소스의 일부분만을 수정하는 데 사용되며, 네트워크 효율성과 성능 측면에서 이점을 제공할 수 있습니다.
- API 설계 시 각 메서드의 특성을 고려하여 적절한 상황에 맞게 사용하는 것이 중요합니다.



## JSON Patch vs JSON MergePatch
  
HTTP `PATCH` 메서드는 RESTful API에서 리소스의 부분적인 수정을 위해 사용됩니다. `PATCH` 요청은 전체 리소스를 대체하는 `PUT` 요청과 달리, 리소스의 일부분만을 변경하는 데 초점을 맞춥니다. 이 과정에서 `JSONPatch`와 `JSONMergePatch`는 데이터 변경을 서술하는 두 가지 다른 접근 방식을 제공합니다.

### JSONPatch 사용 시

- **사용 예시**: 복잡한 데이터 구조의 특정 부분을 수정할 때 `JSONPatch` 방식이 사용됩니다. 예를 들어, JSON 객체 내부의 특정 배열에서 특정 요소를 수정, 추가, 삭제할 경우 `JSONPatch`는 이러한 요구 사항을 명확하게 표현할 수 있습니다.
- **구체적 구현**: 클라이언트는 수정을 위한 일련의 연산들을 JSON 배열 형태로 서버에 전송합니다. 각 연산은 `add`, `remove`, `replace` 등과 같은 명령과 함께 대상 경로를 지정합니다. 서버는 이 연산들을 순차적으로 적용하여 데이터를 수정합니다.

### JSONMergePatch 사용 시

- **사용 예시**: 간단한 구조의 데이터 수정에는 `JSONMergePatch`가 적합합니다. 예를 들어, 사용자의 프로필 정보 중 이름과 이메일 주소만을 변경하는 경우와 같이 간단한 수정 사항을 전송하는 데 사용됩니다.
- **구체적 구현**: 클라이언트는 수정될 필드만을 포함한 JSON 객체를 서버에 전송합니다. 서버는 이 JSON 객체를 기존 데이터와 병합하며, 객체에 명시된 필드만을 수정하고 나머지는 그대로 유지합니다.

### HTTP PATCH 메서드와의 관계

- `PATCH` 메서드는 리소스의 전체 대체가 아닌 부분적인 변경을 목적으로 합니다. 따라서 `JSONPatch`와 `JSONMergePatch`는 `PATCH` 요청의 본문(body)에 사용되어, 어떤 변경이 이루어져야 하는지를 서버에 알려줍니다.
- 이러한 방식은 API 사용자가 리소스의 특정 부분만을 직접 명시하여 수정할 수 있게 하여, 더 효율적이고 유연한 데이터 관리를 가능하게 합니다.

### 결론

`PATCH` 메서드와 함께 `JSONPatch` 또는 `JSONMergePatch`를 사용하는 것은 RESTful API 설계에서 데이터의 효율적이고 정확한 부분 수정을 가능하게 합니다. 어떤 방식을 사용할지는 수정할 데이터의 복잡성과 API 사용자의 요구에 따라 달라집니다. 복잡한 데이터 수정에는 `JSONPatch`가, 간단한 수정에는 `JSONMergePatch`가 더 적합할 수 있습니다.